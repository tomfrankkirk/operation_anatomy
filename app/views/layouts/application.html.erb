<!DOCTYPE html>
<html>
  <head>
    <title>Operation Anatomy</title>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag    'application', media: 'all', "data-turbolinks-track" => true %>
    <%= javascript_include_tag 'application', "data-turbolinks-track" => true %>
  </head>

<!-- Navbar if the user is logged in -->
<div class='navbar'>
    <% if user_signed_in? %>
      <div class="navbar-element left"><p><%= link_to "Topics", root_path %></p></div>

      <div class="navbar-element right">
      <p><strong><%= link_to current_user.email, edit_user_registration_path, :class => 'navbar-link' %></strong> |
      <%= link_to "Logout", destroy_user_session_path, method: :delete, :class => 'navbar-link'  %></p></div>

<!-- Navbar if the user is not logged in -->
    <% else %>
      <p><%= link_to "Sign up", new_user_registration_path, :class => 'navbar-link'  %> |
      <%= link_to "Login", new_user_session_path, :class => 'navbar-link'  %></p>
    <% end %>
    </p>
</div>

<!-- Body of the page -->
  <body>
    <!-- Devise messages here. Integrate into the flash at some point? -->
    <% if notice %>
      <p class="alert alert-success"><%= notice %></p>
    <% end %>
    <% if alert %>
      <p class="alert alert-danger"><%= alert %></p>
    <% end %>

    <!-- Flash messages here -->
    <% flash.each do |name, msg| -%>
      <%= content_tag :div, msg, class: name %>
    <% end -%>

    <!-- Yield to the main content itself -->
    <%= yield %>
  </body>
  
</html>